{"version":3,"sources":["script.js","_global.js"],"names":["console","log","map","app","initMap","google","maps","Map","document","getElementById","mapId","center","lat","lng","zoom","svgMarker","url","scaledSize","Size","origin","Point","anchor","i","markers","Array","$","getJSON","json","length","data","title","subtitle","description","image","address","site","location","LatLng","contentString","infowindow","InfoWindow","content","pixelOffset","marker","Marker","position","icon","event","addListener","setZoom","setCenter","getPosition","not","removeClass","eq","addClass","attr","html","nav","parent","siblings","find","push","window","setTimeout","panTo","open","on","this","trigger","global","init","loadHeader"],"mappings":"AAAAA,QAAAC,IAAA,kBAGA,IAEAC,IAFAC,IAAA,GAIA,SAAAC,UACA,MACAF,EAAA,IAAAG,OAAAC,KAAAC,IAAAC,SAAAC,eAAA,OAAA,CACAC,MAAA,mBACAC,OAHA,CAAAC,IAAA,QAAAC,IAAA,WAIAC,KAAA,KAIAC,EAAA,CACAC,IAAA,sBACAC,WAAA,IAAAZ,OAAAC,KAAAY,KAAA,GAAA,IACAC,OAAA,IAAAd,OAAAC,KAAAc,MAAA,EAAA,GACAC,OAAA,IAAAhB,OAAAC,KAAAc,MAAA,GAAA,KAGA,IAAAE,EACAC,EAAA,IAAAC,MAGAC,EAAAC,QAAA,oBAAA,SAAAC,GACA,IAAAL,EAAA,EAAAA,EAAAK,EAAAC,OAAAN,IAAA,CACA,MAAAO,EAAAF,EAAAL,GACAQ,EAAAD,EAAAC,MACAC,EAAAF,EAAAE,SACAC,EAAAH,EAAAG,YACAC,EAAAJ,EAAAI,MACAC,EAAAL,EAAAK,QACAC,EAAAN,EAAAM,KACAC,EAAA,IAAA/B,OAAAC,KAAA+B,OAAAR,EAAAjB,IAAAiB,EAAAhB,KAEAyB,EACA,2CAEAR,EAFA,4BAKAI,EALA,aAQAK,EAAA,IAAAlC,OAAAC,KAAAkC,WAAA,CACAC,QAAAH,EACAI,YAAA,IAAArC,OAAAC,KAAAY,KAAA,GAAA,MAGAyB,EAAA,IAAAtC,OAAAC,KAAAsC,OAAA,CACAC,SAAAT,EACAlC,IAAAA,EACA4C,KAAA/B,IAIAV,OAAAC,KAAAyC,MAAAC,YAAAL,EAAA,QAAA,SAAAA,EAAArB,GACA,OAAA,WACApB,EAAA+C,QAAA,IACA/C,EAAAgD,UAAAP,EAAAQ,eACA1B,EAAA,aAAA2B,IAAA,OAAA9B,EAAA,KAAA+B,YAAA,UACA5B,EAAA,aAAA6B,GAAAhC,GAAAiC,SAAA,UACA9B,EAAA,YAAA8B,SAAA,UACA9B,EAAA,mBAAA+B,KAAA,MAAAvB,GACAR,EAAA,mBAAAgC,KAAA3B,GACAL,EAAA,mBAAAgC,KAAA1B,GACAN,EAAA,sBAAAgC,KAAAzB,GACAP,EAAA,kBAAAgC,KAAAvB,GACAT,EAAA,eAAAgC,KAAAtB,GAGA,IAAAuB,EAAAjC,EAAA,8BAAAH,EAAA,KACAoC,EAAAH,SAAA,UACAG,EAAAC,SAAAC,WAAAC,KAAA,WAAAR,YAAA,WAjBA,CAmBAV,EAAArB,IACAC,EAAAuC,KAAAnB,GAEAtC,OAAAC,KAAAyC,MAAAC,YAAA9C,EAAA,kBAAA,SAAAyC,EAAArB,GACA,OAAA,WACAyC,OAAAC,YAAA,KACA9D,EAAA+D,MAAAtB,EAAAQ,iBACA,SAGAZ,EAAA2B,KAAAhE,EAAAyC,GAEAlB,EAAA,cAAA0C,GAAA,SAAA,WACA1C,EAAA2C,MAAAb,SAAA,UACA9B,EAAA2C,MAAAT,SAAAC,WAAAC,KAAA,WAAAR,YAAA,UACA5B,EAAA2C,MAAAT,SAAAC,WAAAC,KAAA,SAAAR,YAAA,QACA5B,EAAA2C,MAAAT,SAAAC,WAAAC,KAAA,wBAAAN,SAAA,aACAlD,OAAAC,KAAAyC,MAAAsB,QAAA9C,EAAAE,EAAA2C,MAAAvC,KAAA,aAAA,YAGAJ,EAAA,gBAAA0C,GAAA,SAAA,WACA1C,EAAA,cAAA4B,YAAA,UACA5B,EAAA,YAAA4B,YAAA,UACA5B,EAAA,aAAA4B,YAAA,iBCpGAlD,IAAAmE,OAAA,CACAC,KAAA,WACAvE,QAAAC,IAAA,yBACAE,IAAAmE,OAAAE,cAEAA,WAAA,WACAxE,QAAAC,IAAA,kBAKAE,IAAAmE,OAAAC","file":"all.js","sourcesContent":["console.log(\"Load script.js\");\r\n\r\n// Instantiating the global app object\r\nlet app = {};\r\n\r\nlet map;\r\n\r\nfunction initMap() {\r\n  const myLatLng = { lat: 1.286920, lng: 103.854570 };\r\n  const map = new google.maps.Map(document.getElementById(\"map\"), {\r\n    mapId: \"a02862ca273b2728\",\r\n    center: myLatLng,\r\n    zoom: 15,\r\n  });\r\n\r\n  // Custom SVG Marker\r\n  const svgMarker = {\r\n    url: 'dist/img/marker.svg',\r\n    scaledSize: new google.maps.Size(75, 75), \r\n    origin: new google.maps.Point(0, 0), \r\n    anchor: new google.maps.Point(30, 30) \r\n  };\r\n\r\n  let marker, i;\r\n  let markers = new Array();\r\n\r\n  // Extract JSON into data. Inspired by (https://www.svennerberg.com/2012/03/adding-multiple-markers-to-google-maps-from-json/)\r\n  $.getJSON(\"app/js/data.json\", function (json) {\r\n    for (i = 0; i < json.length; i++) {\r\n      const data = json[i]\r\n      const title = data.title;\r\n      const subtitle = data.subtitle;\r\n      const description = data.description;\r\n      const image = data.image;\r\n      const address = data.address;\r\n      const site = data.site;\r\n      const location = new google.maps.LatLng(data.lat, data.lng);\r\n\r\n      const contentString =\r\n        '<div class=\"map-info\">' +\r\n        '<h6 class=\"title\">' +\r\n        title +\r\n        '</h6>' +\r\n        '<p class=\"subtitle\">' +\r\n        address +\r\n        '</p>' +\r\n        \"</div>\";\r\n      const infowindow = new google.maps.InfoWindow({\r\n        content: contentString,\r\n        pixelOffset: new google.maps.Size(30,50)\r\n      });\r\n\r\n      const marker = new google.maps.Marker({\r\n        position: location,\r\n        map,\r\n        icon: svgMarker,\r\n      })\r\n\r\n      // Marker click event\r\n      google.maps.event.addListener(marker, 'click', (function (marker, i) {\r\n        return function () {\r\n          map.setZoom(17);\r\n          map.setCenter(marker.getPosition());\r\n          $(\".map-info\").not(\":eq(\" + i + \")\").removeClass(\"active\");\r\n          $(\".map-info\").eq(i).addClass(\"active\");\r\n          $(\".overlay\").addClass(\"active\");\r\n          $(\".overlay__image\").attr(\"src\", image);\r\n          $(\".overlay__title\").html(title);\r\n          $(\".text--subtitle\").html(subtitle);\r\n          $(\".text--description\").html(description);\r\n          $(\".text--address\").html(address);\r\n          $(\".text--site\").html(site);\r\n          \r\n          // Adding class active to sidenav menu\r\n          let nav = $('.link-menu[data-markerid = ' + i + ']')\r\n          nav.addClass('active');\r\n          nav.parent().siblings().find(\".active\").removeClass('active');\r\n        }\r\n      })(marker, i));\r\n      markers.push(marker);\r\n\r\n      google.maps.event.addListener(map, 'center_changed', (function (marker, i) {\r\n        return function () {\r\n          window.setTimeout(() => {\r\n            map.panTo(marker.getPosition());\r\n          }, 3000);\r\n        }\r\n      }));\r\n      infowindow.open(map, marker);\r\n      // Sidenav Menu click event\r\n      $('.link-menu').on('click', function () {\r\n        $(this).addClass('active');\r\n        $(this).parent().siblings().find(\".active\").removeClass('active');\r\n        $(this).parent().siblings().find(\".show\").removeClass('show');\r\n        $(this).parent().siblings().find(\".link-menu--collapse\").addClass('collapsed');\r\n        google.maps.event.trigger(markers[$(this).data('markerid')], 'click');\r\n      });\r\n      // Close infowindow and remove active class click event\r\n      $('.icon--close').on('click', function () {\r\n        $('.link-menu').removeClass('active');\r\n        $('.overlay').removeClass('active');\r\n        $(\".map-info\").removeClass(\"active\");\r\n      });\r\n    }\r\n  });\r\n}","// Global\r\napp.global = {\r\n    init: function(){ // Load all global functions here\r\n        console.log(\"load global functions\");\r\n        app.global.loadHeader();\r\n    },\r\n    loadHeader: function(){ // Some specific function\r\n        console.log(\"loadHeader()\");\r\n    }\r\n}\r\n\r\n// Run the global stuff\r\napp.global.init();\r\n\r\n"]}