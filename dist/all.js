console.log("Load script.js");let map,app={};function initMap(){const e=new google.maps.Map(document.getElementById("map"),{mapId:"a02862ca273b2728",center:{lat:1.28692,lng:103.85457},zoom:15}),t={url:"dist/img/marker.svg",scaledSize:new google.maps.Size(75,75),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(30,30)};let a,o=new Array;$.getJSON("app/js/data.json",(function(n){for(a=0;a<n.length;a++){const i=n[a],s=i.title,l=i.subtitle,c=i.description,r=i.image,g=i.address,d=i.site,p=new google.maps.LatLng(i.lat,i.lng),m='<div class="map-info"><h6 class="title">'+s+'</h6><p class="subtitle">'+g+"</p></div>",v=new google.maps.InfoWindow({content:m,pixelOffset:new google.maps.Size(30,50)}),u=new google.maps.Marker({position:p,map:e,icon:t});google.maps.event.addListener(u,"click",function(t,a){return function(){e.setZoom(17),e.setCenter(t.getPosition()),$(".map-info").not(":eq("+a+")").removeClass("active"),$(".map-info").eq(a).addClass("active"),$(".overlay").addClass("active"),$(".overlay__image").attr("src",r),$(".overlay__title").html(s),$(".text--subtitle").html(l),$(".text--description").html(c),$(".text--address").html(g),$(".text--site").html(d);let o=$(".link-menu[data-markerid = "+a+"]");o.addClass("active"),o.parent().siblings().find(".active").removeClass("active")}}(u,a)),o.push(u),google.maps.event.addListener(e,"center_changed",(function(t,a){return function(){window.setTimeout((()=>{e.panTo(t.getPosition())}),3e3)}})),v.open(e,u),$(".link-menu").on("click",(function(){$(this).addClass("active"),$(this).parent().siblings().find(".active").removeClass("active"),$(this).parent().siblings().find(".show").removeClass("show"),$(this).parent().siblings().find(".link-menu--collapse").addClass("collapsed"),google.maps.event.trigger(o[$(this).data("markerid")],"click")})),$(".icon--close").on("click",(function(){$(".link-menu").removeClass("active"),$(".overlay").removeClass("active"),$(".map-info").removeClass("active")}))}}))}app.global={init:function(){console.log("load global functions"),app.global.loadHeader()},loadHeader:function(){console.log("loadHeader()")}},app.global.init();
//# sourceMappingURL=all.js.map